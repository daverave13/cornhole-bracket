{"version":3,"sources":["components/Game.js","components/Round.js","components/Bracket.js","img/trashCan.png","components/Registration.js","App.js","index.js"],"names":["Game","props","useState","game","winner","setWinner","onClick","e","target","innerHTML","gameContent","className","teams","teamA","teamB","Round","renderedGames","games","map","idx","Bracket","setTeams","initialRounds","setInitialRounds","thirdRound","setThirdRound","fourthRound","setFourthRound","fifthRound","setFifthRound","findPrevPowerOfTwo","num","Math","log","isPowerOfTwo","shuffleTeams","a","sort","random","value","b","fillInMissingTeams","index","forEach","team","getTeams","requestOptions","method","fetch","then","response","json","data","produceNextRound","prevRound","nextRound","i","length","push","useEffect","teamNames","team_name","teamsRemaining","totalNumberOfTeams","initalRoundsGames","prevPowerOfTwo","magicNumber","shift","roundSplitIndex","slice","produceInitialRounds","showfirstRound","setRegMode","Registration","teamName","setTeamName","submitForm","preventDefault","headers","body","JSON","stringify","onCloseClick","id","text","renderedTeams","src","trashCanIcon","alt","team_id","onSubmit","htmlFor","type","name","onChange","onInputChange","App","regMode","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9b9b5f3b.chunk.js","sourcesContent":["import {useState} from 'react';\nimport './game.css'\n\nconst Game = (props) => {\n\n    const [winner, setWinner] = useState(props.game.winner);\n\n    const onClick = (e) => {\n        if (winner) setWinner(null);\n        else setWinner(e.target.innerHTML);\n    }\n\n    const gameContent = winner ? <div onClick={e => onClick(e)}>{winner}</div> :  <div ><div onClick={e => onClick(e)}className=\"top-team\">{props.game.teams.teamA}</div> vs <div className=\"bottom-team\" onClick={e => onClick(e)}>{props.game.teams.teamB}</div></div>\n\n    return (\n        <div className=\"Game\">\n            {gameContent}\n        </div>\n    )\n}\n\nexport default Game;","import './round.css';\nimport Game from './Game';\n\nconst Round = (props) => {\n\n    const renderedGames = props.games.map((game, idx) => <div key={idx} className='game'><Game game={game}/></div> )\n\n    return (\n        <div className=\"Round\">\n            {renderedGames}\n        </div>\n    )\n}\n\nexport default Round;","import Round from './Round';\nimport './bracket.css';\nimport { useState, useEffect } from 'react';\n\nconst Bracket = (props) => {\n\n    const [teams, setTeams] = useState([]);\n    const [initialRounds, setInitialRounds] = useState([]);\n    const [thirdRound, setThirdRound] = useState([]);\n    const [fourthRound, setFourthRound] = useState([]);\n    const [fifthRound, setFifthRound] = useState([]);\n\n    const onBackClick = () => {\n        props.setRegMode(true);\n    }\n\n    const isPowerOfTwo = (num) => {\n        return (Math.log(num)/Math.log(2)) % 1 === 0; \n     }\n      \n    const findPrevPowerOfTwo = (num) => {\n        if (isPowerOfTwo(num)) return num;\n        return findPrevPowerOfTwo(num-1);\n    }\n\n    const shuffleTeams = (teams) => {\n        return teams.map((a) => ({sort: Math.random(), value: a}))\n        .sort((a, b) => a.sort - b.sort)\n        .map((a) => a.value);\n    }\n\n    const fillInMissingTeams = (games) => {\n        let index = 0;\n        games.forEach(game => {\n            for (let team in game.teams) {\n                if (!game.teams[team]) game.teams[team] = `Winner of Game ${++index}`\n            }\n        })\n    }\n\n    const getTeams = async () => {\n\n        const requestOptions = {\n            method: \"GET\",\n        }\n\n        let teams =( await fetch(\"https://dslusser.com:5000/api/teams/\", requestOptions)\n                                    .then(response => response.json())\n                                    .then(data => data));\n\n        setTeams(shuffleTeams(teams));\n        // setTeams(teams);\n    } \n\n    const produceInitialRounds = (teamsRemaining) => {\n        const totalNumberOfTeams = teamsRemaining.length;  \n        let initalRoundsGames = [];\n        const prevPowerOfTwo = findPrevPowerOfTwo(teamsRemaining.length)\n        const magicNumber = teamsRemaining.length - prevPowerOfTwo/2;\n\n        for (let i = 0; i < magicNumber; i++) {\n            initalRoundsGames.push({\n                teams: {\n                    teamA: teamsRemaining.shift(),\n                    teamB: teamsRemaining.shift(),\n                },\n                winner: null\n            })\n        }\n\n        fillInMissingTeams(initalRoundsGames);\n        \n        const roundSplitIndex = totalNumberOfTeams - prevPowerOfTwo;\n        const firstRoundGames = [...initalRoundsGames.slice(0, roundSplitIndex)]\n        const secondRoundGames = [...initalRoundsGames.slice(roundSplitIndex, initalRoundsGames.length)]\n\n        return [firstRoundGames,secondRoundGames];\n    }\n\n    const produceNextRound = (prevRound) => {\n        let nextRound = [];\n        for (let i = 0; i < prevRound.length/2; i++) {\n            nextRound.push({\n                teams: {\n                    teamA: null,\n                    teamB: null,\n                },\n                winner: null\n            })\n        }\n        fillInMissingTeams(nextRound)\n        return nextRound;\n    }\n\n    useEffect(() => {\n        getTeams();\n    }, [initialRounds])\n\n  \n    if (teams.length > 0) {\n        const teamNames = teams.map(team => team.team_name);\n        if (initialRounds.length === 0 ) setInitialRounds(produceInitialRounds(teamNames));\n        if (thirdRound.length === 0 && initialRounds.length > 0) setThirdRound(produceNextRound(initialRounds[1]));\n        if (fourthRound.length === 0 && thirdRound.length > 0) setFourthRound(produceNextRound(thirdRound));\n        if (fifthRound.length === 0 && fourthRound.length > 1) setFifthRound(produceNextRound(fourthRound));\n    }\n    \n    let showfirstRound = false;\n    if (initialRounds[0]) {\n        if (initialRounds[0].length > 0) showfirstRound = true\n    }\n\n    return (\n        <div className=\"Bracket\">\n            {showfirstRound ? <Round games={initialRounds[0]}/> : \"\"}\n            {initialRounds[1] ? <Round games={initialRounds[1]}/> : \"\"}\n            {thirdRound.length > 0 && initialRounds[1].length > 1 ? <Round games={thirdRound} /> : \"\"}\n            {fourthRound.length > 1 ? <Round games={fourthRound} /> : \"\"}\n            {fourthRound.length > 1 ? <Round games={fifthRound} /> : \"\"}\n            <button onClick={onBackClick}>Back</button>\n        </div>\n    )\n}\n\nexport default Bracket;","export default __webpack_public_path__ + \"static/media/trashCan.3751a0e7.png\";","import { useState, useEffect } from 'react';\nimport trashCanIcon from \"../img/trashCan.png\";\nimport './registration.css';\n\nconst Registration = (props) => {\n\n    const [teamName, setTeamName] = useState('');\n    const [teams, setTeams] = useState([]);\n\n    const onBuildClick = () => {\n        props.setRegMode(false);\n    }\n\n    const onInputChange = (e) => {\n        setTeamName(e.target.value);\n    }\n\n    const submitForm = async (e) => {\n        e.preventDefault();\n\n        const requestOptions = {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({teamName: teamName})\n        }\n\n        await fetch('https://dslusser.com:5000/api/teams', requestOptions)\n            .then(response => response.json());\n\n        setTeamName('');\n    }\n\n    const getTeams = async () => {\n        \n        const requestOptions = {\n            method: 'GET'\n        }\n\n        await fetch('https://dslusser.com:5000/api/teams', requestOptions)\n            .then(response => response.json())\n            .then(data => setTeams(data));\n    }\n\n    const onCloseClick = async (id) => {\n        const requestOptions = {\n            method: \"DELETE\",\n        };\n\n        await fetch(\n            \"https://dslusser.com:5000/api/teams/\" + id,\n            requestOptions\n        ).then((response) => response.text());\n        getTeams();\n    };\n\n    useEffect(() => {\n        getTeams();\n    }, [teamName])\n\n    const renderedTeams = teams.map((team, idx) => {\n        return (\n            <div key={idx} className=\"team\">\n                <div>{team.team_name}</div> \n                <img src={trashCanIcon} alt='trashcan' onClick={() => onCloseClick(team.team_id)}/>\n            </div>\n        )\n    });\n\n    return (\n        <div className=\"Registration\">\n            <h2>Registration</h2>\n            <div className=\"entry-form\">\n                <form onSubmit={e => submitForm(e)}>\n                    <label htmlFor=\"teamName\">Team Name: </label>\n                    <input type=\"text\" name=\"teamName\" id=\"teamName\" value={teamName} onChange={(e) => onInputChange(e)}/>\n                    <button type=\"submit\">Submit</button>\n                </form>\n            </div>\n            <div className=\"team-list\">\n                {renderedTeams}\n            </div>\n            <button id='build-button' onClick={onBuildClick}>Build Bracket!</button>\n        </div>\n    )\n}\n\nexport default Registration;","import './App.css';\nimport { useState } from 'react';\nimport Bracket from './components/Bracket';\nimport Registration from './components/Registration';\n\nfunction App() {\n\n  const [regMode, setRegMode] = useState(true);\n\n  return (\n    <div className=\"App\">\n      {regMode ? <Registration setRegMode={setRegMode}/> : <Bracket setRegMode={setRegMode}/>}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}